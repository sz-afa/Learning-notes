
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [scanf()后再次scanf()读取char类型数据错误](#scanf后再次scanf读取char类型数据错误)
  - [错误情况](#错误情况)
  - [解决办法](#解决办法)

<!-- /code_chunk_output -->

## scanf()后再次scanf()读取char类型数据错误
### 错误情况
```c
#include <stdio.h>

int main(void)
{
    int a;
    char c;

    scanf("%d",&a);
    printf("a=%d\n",a);

    scanf("%c",&c);
    printf("c=%d\n",c);
    return 0;
}
```
```bash
farsight@ubuntu:~/note$ ./a.out 
2
a=2
c=10
```
char c永远无法读到用户输入的内容。因为第一次scanf输入了（2回车）
回车（'\n'）被读到char c里。
### 解决办法
在每一次scanf()后加上 `while(getchar() != '\n');`清空缓冲区(去除杂数据)
```c
#include <stdio.h>

int main(void)
{
    int a,b;
    char c;
    
    scanf("%d",&a);
    while(getchar() != '\n');
    printf("a=%d\n",a);

    scanf("%c",&c);
    while(getchar() != '\n');
    printf("c=%d\n",c);
    
    return 0;
}

```
```bash
farsight@ubuntu:~/note$ ./a.out 
2
a=2
a
c=97
```